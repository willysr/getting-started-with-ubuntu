<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.22.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Custom ROS packages fix - Course 0: Fundamentals of Robotics</title>
<meta name="description" content="We have discovered how to build a ROS package.">


  <meta name="author" content="Your Name">
  
  <meta property="article:author" content="Your Name">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Course 0: Fundamentals of Robotics">
<meta property="og:title" content="Custom ROS packages fix">
<meta property="og:url" content="/modules/4/fix.html">


  <meta property="og:description" content="We have discovered how to build a ROS package.">







  <meta property="article:published_time" content="2021-04-11T23:57:13+07:00">





  

  


<link rel="canonical" href="/modules/4/fix.html">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "AWS",
      "url": "/"
    
  }
</script>






<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Course 0: Fundamentals of Robotics Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->


    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Course 0: Fundamentals of Robotics
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/index.html">Syllabus</a>
            </li><li class="masthead__menu-item">
              <a href="/modules/index.html">Modules</a>
            </li><li class="masthead__menu-item">
              <a href="/additional-resources.html">Additional resources</a>
            </li></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  
  
    
      
      
      
      
    
    
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle Menu</label>
  <ul class="nav__items">
    
      <li>
        
          <span class="nav__sub-title">Course Introduction</span>
        

        
        <ul>
          
            <li><a href="/modules/0/motivation.html">Motivation</a></li>
          
            <li><a href="/modules/0/objectives.html">Course objectives</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Module 1 - Linux</span>
        

        
        <ul>
          
            <li><a href="/modules/1/linux.html">Linux</a></li>
          
            <li><a href="/modules/1/installation.html">Installation</a></li>
          
            <li><a href="/modules/1/commandline.html">Commandline</a></li>
          
            <li><a href="/modules/1/assessment.html">Assessment</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Module 2 - ROS configuration</span>
        

        
        <ul>
          
            <li><a href="/modules/2/ros.html">Getting started with ROS</a></li>
          
            <li><a href="/modules/2/ros-installation.html">ROS installation</a></li>
          
            <li><a href="/modules/2/ros-development.html">ROS packages</a></li>
          
            <li><a href="/modules/2/assessment.html">Assessment</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Module 3 - Version control systems</span>
        

        
        <ul>
          
            <li><a href="/modules/3/version-control-systems.html">Version control systems</a></li>
          
            <li><a href="/modules/3/git.html">Git</a></li>
          
            <li><a href="/modules/3/assessment.html">Assessment</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Module 4 - Building tools</span>
        

        
        <ul>
          
            <li><a href="/modules/4/build-tool.html">Building systems</a></li>
          
            <li><a href="/modules/4/colcon.html">Colcon</a></li>
          
            <li><a href="/modules/4/fix.html" class="active">Custom ROS packages fix</a></li>
          
            <li><a href="/modules/4/assessment.html">Assessment</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">End of the course and additional resources</span>
        

        
        <ul>
          
            <li><a href="/modules/5/waveshare.html">Simulator with Waveshare Jetbot</a></li>
          
            <li><a href="/additional-resources.html">Additional resources</a></li>
          
        </ul>
        
      </li>
    
  </ul>
</nav>

    
  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Custom ROS packages fix">
    <meta itemprop="description" content="We have discovered how to build a ROS package.">
    <meta itemprop="datePublished" content="2021-04-11T23:57:13+07:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Custom ROS packages fix
</h1>
          


        </header>
      

      <section class="page__content" itemprop="text">
        
        <p>We have discovered how to build a ROS package.</p>

<p>However, if we try to run immediately the new simulation</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>roslaunch turtlebot_gazebo turtlebot_world.launch
</code></pre></div></div>

<p>We will find the following error:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Resource not found: The following package was not found in &lt;arg default="$(find xacro)/xacro '$(find turtlebot_description)/robots/$(arg base)_$(arg stacks)_$(arg 3d_sensor).urdf.xacro'" name="urdf_file"/&gt;: turtlebot_description
ROS path [0]=/opt/ros/melodic/share/ros
ROS path [1]=/home/class/ros_workspace/install/turtlebot_simulator/share
ROS path [2]=/home/class/ros_workspace/install/turtlebot_stdr/share
ROS path [3]=/home/class/ros_workspace/install/turtlebot_stage/share
ROS path [4]=/home/class/ros_workspace/install/turtlebot_gazebo/share
ROS path [5]=/opt/ros/melodic/share
The traceback for the exception was written to the log file
</code></pre></div></div>

<p>In this unit we will see a couple of common errors you might encounter in setting up a custom package so that you can identify them and try a couple of options.</p>

<p>Remembering from the previous module on ROS, the first step is to try to see if the missing resource, <code class="language-plaintext highlighter-rouge">turtlebot_description</code> is available through <code class="language-plaintext highlighter-rouge">apt</code>. We find that is not. Thus, we look at it on GitHub, and we find it in this repository <a href="https://github.com/turtlebot/turtlebot">https://github.com/turtlebot/turtlebot</a>. Thus, we need to clone it in the same way we did in the previous unit.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd ~/ros_workspace/src/
git clone https://github.com/turtlebot/turtlebot
cd ..
colcon build
</code></pre></div></div>

<p>Here, after a very long prints, we will observe another error after calling <code class="language-plaintext highlighter-rouge">colcon</code>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>-- Could NOT find joy (missing: joy_DIR)
-- Could not find the required component 'joy'. The following CMake error indicates that you either need to install the package with the same name or change your environment so that it can be found.
CMake Error at /opt/ros/melodic/share/catkin/cmake/catkinConfig.cmake:83 (find_package):
  Could not find a package configuration file provided by "joy" with any of
  the following names:

    joyConfig.cmake
    joy-config.cmake

  Add the installation prefix of "joy" to CMAKE_PREFIX_PATH or set "joy_DIR"
  to a directory containing one of the above files.  If "joy" provides a
  separate development package or SDK, be sure it has been installed.
Call Stack (most recent call first):
  CMakeLists.txt:5 (find_package)


-- Configuring incomplete, errors occurred!
</code></pre></div></div>

<p>This identifies that a library – <code class="language-plaintext highlighter-rouge">joy</code> – that is needed for a package is not present. Luckily this time, that library is available through <code class="language-plaintext highlighter-rouge">apt</code>. Thus,</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt install ros-melodic-joy
</code></pre></div></div>

<p>This exercise was for you to see the errors and identify low-level how to fix them. ROS provided a powerful tool which is able to fix this type of errors. In particular, just running:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rosdep install --from-paths src --ignore-src -r -y
</code></pre></div></div>

<p>finds the necessary dependencies from <code class="language-plaintext highlighter-rouge">apt</code> repositories and install them automatically through <code class="language-plaintext highlighter-rouge">apt</code>.</p>

<p>In summary, the following commands need to be run to have the Turtlebot 2 simulation running:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd ~/ros_workspace/src
git clone https://github.com/turtlebot/turtlebot
git clone https://github.com/yujinrobot/kobuki
cd .. 
rosdep install --from-paths src --ignore-src -r -y
colcon build
source ~/ros_workspace/install/setup.sh # to run again if on a new terminal and not in .bashrc
</code></pre></div></div>

<p>Finally</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>roslaunch turtlebot_gazebo turtlebot_world.launch
</code></pre></div></div>

<p>will run the simulation</p>

<p><img src="/img/turtlebot-gazebo.png" alt="Turtlebot 2 in Gazebo" /></p>

<p>While this is one source of error, there might be other errors that might be trickier to identify, especially those related to the code. Typically, if a package is widely used, you might find an answer in the <a href="https://answers.ros.org/questions/">ROS Q&amp;Aforum</a>. To fix the error, otherwise, it requires ability to navigate the code and identify the error related to the language, which is out of the scope for this course. Most of the time, for common packages, this process of fixing the errors should work.</p>

<p>We got the main tools up and running to continue our journey in the next courses for learning more about ROS and robot software development. <a href="/modules/4/assessment.html">Let’s assess</a> first the understanding of these tools.</p>

<div style="font-size:8px;">
  <h3>References</h3>
  
<ol class="bibliography"></ol>

</div>


        
      </section>

      <footer class="page__meta">
        
        


        
  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2021-04-11T23:57:13+07:00">April 11, 2021</time></p>


      </footer>

      

      
  <nav class="pagination">
    
      <a href="/modules/4/colcon.html" class="pagination--pager" title="Colcon
">Previous</a>
    
    
      <a href="/modules/4/assessment.html" class="pagination--pager" title="Assessment for Module 4 - Building tools
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
</div>

    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
            <hr>
    <div class="wrapper">
      <footer>
        &copy; Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved. // SPDX-License-Identifier: CC-BY-SA-4.0
      </footer>
    </div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>










  </body>
</html>
